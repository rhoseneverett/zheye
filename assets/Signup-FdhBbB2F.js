import{d as w,p as c,a as f,b as l,e as o,w as m,m as y,o as V,q as g,n as k}from"./index-DyRkbYjn.js";import{_ as v,a as t}from"./ValidateInput.vue_vue_type_script_setup_true_lang-C88jyHzX.js";const x={class:"signup-page mx-auto p-3 w-330"},N={class:"mb-3"},q={class:"mb-3"},P={class:"mb-3"},R={class:"mb-3"},C=w({__name:"Signup",setup(U){const s=c({email:"",nickName:"",password:"",repeatPassword:""}),d=y(),n=[{type:"required",message:"电子邮箱地址不能为空"},{type:"email",message:"请输入正确的电子邮箱格式"}],p=[{type:"required",message:"昵称不能为空"}],u=[{type:"required",message:"密码不能为空"}],i=[{type:"required",message:"重复密码不能为空"},{type:"password",validator:()=>s.password===s.repeatPassword,message:"密码不相同"}],b=r=>{if(r){const e={email:s.email,password:s.password,nickName:s.nickName};g.post("/users/",e).then(a=>{k("注册成功 正在跳转登录页面","success",2e3),setTimeout(()=>{d.push("/login")},2e3)}).catch(a=>{console.log(a)})}};return(r,e)=>(V(),f("div",x,[e[9]||(e[9]=l("h5",{class:"my-4 text-center"},"注册者也账户",-1)),o(v,{onFormSubmit:b},{submit:m(()=>e[8]||(e[8]=[l("button",{type:"submit",class:"btn btn-primary btn-block btn-large"},"注册新用户",-1)])),default:m(()=>[l("div",N,[e[4]||(e[4]=l("label",{class:"form-label"},"邮箱地址",-1)),o(t,{rules:n,modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=a=>s.email=a),placeholder:"请输入邮箱地址",type:"text"},null,8,["modelValue"])]),l("div",q,[e[5]||(e[5]=l("label",{class:"form-label"},"昵称",-1)),o(t,{rules:p,modelValue:s.nickName,"onUpdate:modelValue":e[1]||(e[1]=a=>s.nickName=a),placeholder:"请输入昵称",type:"text"},null,8,["modelValue"])]),l("div",P,[e[6]||(e[6]=l("label",{class:"form-label"},"密码",-1)),o(t,{type:"password",placeholder:"请输入密码",rules:u,modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=a=>s.password=a)},null,8,["modelValue"])]),l("div",R,[e[7]||(e[7]=l("label",{class:"form-label"},"重复密码",-1)),o(t,{type:"password",placeholder:"请再次密码",rules:i,modelValue:s.repeatPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>s.repeatPassword=a)},null,8,["modelValue"])])]),_:1})]))}});export{C as default};
