import{H as g,q as r,c as u}from"./index-DyRkbYjn.js";const h=g("column",{state:()=>({data:[],currentPage:0,total:0}),actions:{async fetchColumns(t={}){const{currentPage:e=1,pageSize:a=6}=t;if(this.currentPage<e){const{data:s}=await r.get(`/columns?currentPage=${e}&pageSize=${a}`),{count:n,list:o}=s.data;this.$patch({currentPage:e,total:n,data:[...this.data,...o]})}},async fetchColumn(t){if(!this.data.some(a=>a._id===t)){const{data:a}=await r.get(`/columns/${t}`),{data:s}=a;this.data.push(s)}}},getters:{getColumns(t){return t.data},getColumnById(t){return e=>t.data.find(a=>a._id===e)}}}),p=(t,e,a)=>{const{currentPage:s,total:n,pageSize:o=3,...c}=a,i=u(()=>({...c,currentPage:s.value+1,pageSize:o})),l=()=>{t[e](i.value)},d=u(()=>n.value===0?!0:Math.ceil(n.value/o)===s.value);return{currentPage:s,loadMorePage:l,isLastPage:d}};export{p as a,h as u};
